<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ—Ü–∏–∞–ª–µ–Ω –∫–æ–º–ø–∞—Å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="manifest" href="manifest.webmanifest">
    <style>
        body { background-color: #f8f8f8; color: #22c55e; }
        .hidden { display: none; }
    </style>
</head>
<body class="p-5 font-sans">
    <div class="max-w-md mx-auto bg-white p-6 rounded-xl shadow-lg">
        <div id="motto-display" class="text-center italic font-bold mb-6 min-h-[4rem] text-green-700 flex items-center justify-center"></div>

        <hr class="mb-6">

        <div class="text-center mb-6">
            <h2 class="text-xl font-bold mb-2 uppercase tracking-wide">–ö—Ä—É–∑–æ –∞–ª–∞—Ä–º</h2>
            <div id="timer" class="text-5xl font-mono mb-4 text-black">50:00</div>
            <div id="stats" class="grid grid-cols-2 gap-2 text-sm font-bold bg-gray-50 p-3 rounded-lg">
                <div class="text-red-600">–ö–æ—Ä—Ç–∏–∑–æ–ª: <span id="cortisol">0</span></div>
                <div class="text-blue-600">–ï–Ω–¥–æ—Ä—Ñ–∏–Ω–∏: <span id="endorphins">0</span></div>
            </div>
            <button id="start-btn" class="mt-4 bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-full font-bold transition-all">–°–¢–ê–†–¢</button>
        </div>

        <div id="mission-panel" class="hidden border-t border-green-200 pt-4 animate-pulse">
            <h3 class="text-lg font-bold mb-2 text-red-600">SURVIVAL MISSION (–§–í–°)</h3>
            <div id="mission-text" class="mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-gray-800 font-medium"></div>
            <button onclick="completeMission()" class="bg-blue-600 text-white w-full py-3 rounded-lg font-bold shadow-md">–ò–ó–ü–™–õ–ù–ò–• –ú–ò–°–ò–Ø–¢–ê</button>
            <button onclick="showEthicalFilter()" class="mt-2 text-gray-500 text-sm w-full py-1">–û—Ç–∫–∞–∑–≤–∞–º (–ï—Ç–∏—á–µ–Ω —Ñ–∏–ª—Ç—ä—Ä)</button>
        </div>

        <div id="ethical-filter" class="hidden border-t mt-4 pt-4 bg-yellow-50 p-4 rounded-lg shadow-inner">
            <h3 class="font-bold mb-3 text-yellow-800 underline">–ï—Ç–∏—á–µ–Ω —Ñ–∏–ª—Ç—ä—Ä: –ö–∞–∑—É—Å –ê–¥–∞–º –†–µ–π–Ω</h3>
            <div class="space-y-3">
                <label class="block text-xs leading-tight"><input type="checkbox" class="ethical-check mr-2"> –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç–µ –ª–∏ –¥–∞ —Ç—ä—Ä—Å–∏—Ç–µ –ø–æ–¥–∫—Ä–µ–ø–∞ –æ—Ç AI, –≤–º–µ—Å—Ç–æ –¥–∞ –≥–æ–≤–æ—Ä–∏—Ç–µ —Å —Ö–æ—Ä–∞?</label>
                <label class="block text-xs leading-tight"><input type="checkbox" class="ethical-check mr-2"> –ß—Ä–µ–∑ –∏–∑–∫—É—Å—Ç–≤–µ–Ω–∏—è –∏–Ω—Ç–µ–ª–µ–∫—Ç –º–æ–∂–µ–º –ª–∏ –¥–∞ –∏–∑–±—è–≥–∞–º–µ –æ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–∏?</label>
                <label class="block text-xs leading-tight"><input type="checkbox" class="ethical-check mr-2"> –ü—Ä–µ–Ω–µ–±—Ä–µ–≥–≤–∞—Ç–µ –ª–∏ –Ω—É–∂–¥–∏—Ç–µ —Å–∏, –∑–∞ –¥–∞ –ø—Ä–µ–∫–∞—Ä–∞—Ç–µ –≤—Ä–µ–º–µ –Ω–∞ –µ–∫—Ä–∞–Ω–∞?</label>
            </div>
            <button onclick="checkEthics()" class="mt-4 bg-black text-white w-full py-2 rounded font-bold">–ü–†–û–í–ï–†–ò –†–ò–°–ö–ê</button>
        </div>

        <div id="crisis-panel" class="hidden mt-4 p-4 bg-red-600 text-white rounded-lg shadow-xl">
            <h3 class="font-bold text-center border-b pb-2 mb-2">–ö–†–ò–ó–ò–°–ù–ò –ö–û–ù–¢–ê–ö–¢–ò</h3>
            <p class="text-sm mb-1">üìû –õ–∏–Ω–∏—è –∑–∞ –ø–æ–¥–∫—Ä–µ–ø–∞: <strong>116 111</strong></p>
            <p class="text-sm">üìû –ü–æ–º–æ—â –ø—Ä–∏ –¥–æ–º–∞—à–Ω–æ –Ω–∞—Å–∏–ª–∏–µ: <strong>0800 11 977</strong></p>
        </div>
    </div>

    <script>
        const mottos = [
            "–ú—ä—Ä–∑–µ–ª—ä—Ç –Ω—è–º–∞ –¥–∞ —Ç–µ –¥–æ–≤–µ–¥–µ –¥–æ –Ω–∏–∫—ä–¥–µ.",
            "\"–°–≤–µ—Ç—ä—Ç –µ –æ—Ç–≤—ä–Ω, –Ω–µ –≤ –µ–∫—Ä–∞–Ω–∞.\"",
            "\"–ì–æ–≤–æ—Ä–∏ —Å —Ö–æ—Ä–∞, –∞ –Ω–µ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞.\"",
            "–î–≤–∏–∂–µ–Ω–∏–µ—Ç–æ –µ –ª–µ–∫—ä—Ç –Ω–∞ –∂–∏–≤–æ—Ç–∞.",
            "\"–î–æ—Ä–∏ –∏ –Ω–∞–π-–º–∞–ª–∫–∞—Ç–∞ –≤—è—Ä–∞, –º–æ–∂–µ –¥–∞ —Ç–∏ –ø–æ–º–æ–≥–Ω–µ –≤ –Ω–∞–π-—Ç—Ä—É–¥–Ω–∏—Ç–µ —Ç–∏ –¥–Ω–∏.\""
        ];

        const missions = [
            { name: "–ö–ª–µ–∫–æ–≤–µ", desc: "60 –∫–ª–µ–∫–∞ –¥–æ –¥–æ–ª—É —Å –∏–∑–ø—ä–Ω–∞—Ç–∏ —Ä—ä—Ü–µ" },
            { name: "Jumping Jacks", desc: "–æ—Ç 30 –∏ 40, –±—ä—Ä–∑–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ" },
            { name: "–ë–∞–≤–Ω–æ —Ç–∏—á–∞–Ω–µ", desc: "5 –∫–º –¥–∂–æ–≥–∏–Ω–≥" },
            { name: "–ü–ª–∞–Ω–∫", desc: "2 –º–∏–Ω. –ø–ª–∞–Ω–∫ –Ω–∞ –ª–∞–∫—Ç–∏, –∏–∑–ø—ä–Ω–∞—Ç–æ —Ç—è–ª–æ" }
        ];

        let cortisol = 0, endorphins = 0;
        let timerSeconds = 1 * 60; // 1 –º–∏–Ω—É—Ç–∞
        let interval;

        // –†–æ—Ç–∞—Ü–∏—è –Ω–∞ –º–æ—Ç–æ—Ç–∞ [cite: 8]
        let mIdx = 0;
        function rotateMotto() {
            document.getElementById('motto-display').innerText = mottos[mIdx];
            mIdx = (mIdx + 1) % mottos.length;
        }
        setInterval(rotateMotto, 6000); rotateMotto();

        // –¢–∞–π–º–µ—Ä
        document.getElementById('start-btn').onclick = function() {
            this.disabled = true;
            interval = setInterval(() => {
                timerSeconds--;
                updateDisplay();
                if (timerSeconds % 300 === 0) { cortisol += 5; updateStats(); } // –ü–æ–∫–∞—á–≤–∞–Ω–µ –Ω–∞ –∫–æ—Ä—Ç–∏–∑–æ–ª
                if (timerSeconds <= 0) { clearInterval(interval); showMission(); }
            }, 1000);
        };

        function updateDisplay() {
            let m = Math.floor(timerSeconds / 60), s = timerSeconds % 60;
            document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
        }

        function updateStats() {
            document.getElementById('cortisol').innerText = cortisol;
            document.getElementById('endorphins').innerText = endorphins;
        }

        function showMission() {
            const m = missions[Math.floor(Math.random() * missions.length)];
            document.getElementById('mission-text').innerHTML = `<strong>${m.name}:</strong> ${m.desc}`;
            document.getElementById('mission-panel').classList.remove('hidden');
        }

        function completeMission() {
            cortisol -= 5; // –ö–æ—Ä–µ–∫—Ü–∏—è –∫–æ—Ä—Ç–∏–∑–æ–ª 
            endorphins += 25; // –ö–æ—Ä–µ–∫—Ü–∏—è –µ–Ω–¥–æ—Ä—Ñ–∏–Ω–∏ 
            updateStats();
            alert("–ú–∏—Å–∏—è—Ç–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∞! –ö–æ—Ä—Ç–∏–∑–æ–ª: -5, –ï–Ω–¥–æ—Ä—Ñ–∏–Ω–∏: +25");
            reset();
        }

        function showEthicalFilter() {
            document.getElementById('ethical-filter').classList.remove('hidden');
        }

        function checkEthics() {
            const checked = document.querySelectorAll('.ethical-check:checked').length;
            if (checked >= 2) { // –õ–æ–≥–∏–∫–∞ –∑–∞ —Ä–∏—Å–∫ [cite: 21, 29]
                document.getElementById('crisis-panel').classList.remove('hidden');
                alert("–í–ò–°–û–ö –†–ò–°–ö! –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ –§–í–° –º–∏—Å–∏—è.");
                showMission();
            } else {
                alert("–†–∏—Å–∫—ä—Ç –µ –Ω–∏—Å—ä–∫. –ü—Ä–æ–¥—ä–ª–∂–∞–≤–∞–π –Ω–∞–ø—Ä–µ–¥!");
                reset();
            }
        }

        function reset() {
            timerSeconds = 50 * 60;
            updateDisplay();
            document.getElementById('start-btn').disabled = false;
            document.getElementById('mission-panel').classList.add('hidden');
            document.getElementById('ethical-filter').classList.add('hidden');
        }
    </script>
</body>
</html>
